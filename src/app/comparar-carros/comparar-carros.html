<main>
    <section class="comparar-section">
        <h1>Comparar Carros</h1>
        <p class="subtitle">Selecione 2 carros para comparar suas especificações</p>
        
        <div class="carros-grid">
            <!-- Linha 1 -->
            <div class="carro-card" 
                 [class.selected]="isCarroSelecionado(1)"
                 (click)="toggleCarroSelection(1)">
                <div class="checkbox-container">
                    <input type="checkbox" 
                           id="carro1" 
                           class="carro-checkbox" 
                           [checked]="isCarroSelecionado(1)"
                           (click)="$event.stopPropagation()">
                    <label for="carro1"></label>
                </div>
                <div class="carro-imagem">
                    <img src="assets/IMG/2021-Mercedes-AMG-GT-Black-Series-009-2160-scaled.jpg" alt="Mercedes AMG GT">
                </div>
                <div class="carro-info">
                    <h3>Mercedes AMG GT Black Series</h3>
                    <p class="ano">Ano: 2021</p>
                    <p class="valor">R$ 2.500.000</p>
                </div>
            </div>

            <div class="carro-card" 
                 [class.selected]="isCarroSelecionado(2)"
                 (click)="toggleCarroSelection(2)">
                <div class="checkbox-container">
                    <input type="checkbox" 
                           id="carro2" 
                           class="carro-checkbox" 
                           [checked]="isCarroSelecionado(2)"
                           (click)="$event.stopPropagation()">
                    <label for="carro2"></label>
                </div>
                <div class="carro-imagem">
                    <img src="assets/IMG/STOVerde Mantis.jpg" alt="Lamborghini Huracán STO">
                </div>
                <div class="carro-info">
                    <h3>Lamborghini Huracán STO</h3>
                    <p class="ano">Ano: 2021</p>
                    <p class="valor">R$ 3.200.000</p>
                </div>
            </div>

            <div class="carro-card" 
                 [class.selected]="isCarroSelecionado(3)"
                 (click)="toggleCarroSelection(3)">
                <div class="checkbox-container">
                    <input type="checkbox" 
                           id="carro3" 
                           class="carro-checkbox" 
                           [checked]="isCarroSelecionado(3)"
                           (click)="$event.stopPropagation()">
                    <label for="carro3"></label>
                </div>
                <div class="carro-imagem">
                    <img src="assets/IMG/Porsche 911 Carrera T parked in a courtyard.jpg" alt="Porsche 911 Carrera T">
                </div>
                <div class="carro-info">
                    <h3>Porsche 911 Carrera T</h3>
                    <p class="ano">Ano: 2023</p>
                    <p class="valor">R$ 950.000</p>
                </div>
            </div>

            <div class="carro-card" 
                 [class.selected]="isCarroSelecionado(4)"
                 (click)="toggleCarroSelection(4)">
                <div class="checkbox-container">
                    <input type="checkbox" 
                           id="carro4" 
                           class="carro-checkbox" 
                           [checked]="isCarroSelecionado(4)"
                           (click)="$event.stopPropagation()">
                    <label for="carro4"></label>
                </div>
                <div class="carro-imagem">
                    <img src="assets/IMG/Mustang-GTD-Spirit-of-America-2025_2.jpg" alt="Ford Mustang GTD">
                </div>
                <div class="carro-info">
                    <h3>Ford Mustang GTD</h3>
                    <p class="ano">Ano: 2025</p>
                    <p class="valor">R$ 2.300.000</p>
                </div>
            </div>

            <!-- Linha 2 -->
            <div class="carro-card" 
                 [class.selected]="isCarroSelecionado(5)"
                 (click)="toggleCarroSelection(5)">
                <div class="checkbox-container">
                    <input type="checkbox" 
                           id="carro5" 
                           class="carro-checkbox" 
                           [checked]="isCarroSelecionado(5)"
                           (click)="$event.stopPropagation()">
                    <label for="carro5"></label>
                </div>
                <div class="carro-imagem">
                    <img src="assets/IMG/2020-audi-r8.jpg" alt="Audi R8 V10 Plus">
                </div>
                <div class="carro-info">
                    <h3>Audi R8 V10 Plus</h3>
                    <p class="ano">Ano: 2020</p>
                    <p class="valor">R$ 1.800.000</p>
                </div>
            </div>

            <div class="carro-card" 
                 [class.selected]="isCarroSelecionado(6)"
                 (click)="toggleCarroSelection(6)">
                <div class="checkbox-container">
                    <input type="checkbox" 
                           id="carro6" 
                           class="carro-checkbox" 
                           [checked]="isCarroSelecionado(6)"
                           (click)="$event.stopPropagation()">
                    <label for="carro6"></label>
                </div>
                <div class="carro-imagem">
                    <img src="assets/IMG/Verde Scandal.png" alt="Lamborghini Aventador SVJ">
                </div>
                <div class="carro-info">
                    <h3>Lamborghini Aventador SVJ</h3>
                    <p class="ano">Ano: 2019</p>
                    <p class="valor">R$ 5.500.000</p>
                </div>
            </div>

            <div class="carro-card" 
                 [class.selected]="isCarroSelecionado(7)"
                 (click)="toggleCarroSelection(7)">
                <div class="checkbox-container">
                    <input type="checkbox" 
                           id="carro7" 
                           class="carro-checkbox" 
                           [checked]="isCarroSelecionado(7)"
                           (click)="$event.stopPropagation()">
                    <label for="carro7"></label>
                </div>
                <div class="carro-imagem">
                    <img src="assets/IMG/porshe911-6104A1.jpg" alt="Porsche 911 Turbo S">
                </div>
                <div class="carro-info">
                    <h3>Porsche 911 Turbo S</h3>
                    <p class="ano">Ano: 2023</p>
                    <p class="valor">R$ 1.650.000</p>
                </div>
            </div>

            <div class="carro-card" 
                 [class.selected]="isCarroSelecionado(8)"
                 (click)="toggleCarroSelection(8)">
                <div class="checkbox-container">
                    <input type="checkbox" 
                           id="carro8" 
                           class="carro-checkbox" 
                           [checked]="isCarroSelecionado(8)"
                           (click)="$event.stopPropagation()">
                    <label for="carro8"></label>
                </div>
                <div class="carro-imagem">
                    <img src="assets/IMG/mercedes-benz-sls-amg-black-series-.jpg" alt="Mercedes-Benz SLS AMG">
                </div>
                <div class="carro-info">
                    <h3>Mercedes-Benz SLS AMG</h3>
                    <p class="ano">Ano: 2020</p>
                    <p class="valor">R$ 2.200.000</p>
                </div>
            </div>
        </div>

        <div class="comparar-btn-container">
            <button class="comparar-btn" 
                    [disabled]="carrosSelecionados.length !== 2"
                    (click)="mostrarComparacao()">
                Comparar Carros
            </button>
            <p class="info-text" [style.color]="getInfoTextColor()">
                {{ getInfoText() }}
            </p>
        </div>
    </section>

    <!-- Modal de Comparação -->
    <div class="modal" 
         [style.display]="modalAberto ? 'block' : 'none'"
         (click)="fecharModal($event)">
        <div class="modal-content" (click)="$event.stopPropagation()">
            <span class="close-btn" (click)="fecharModal()">&times;</span>
            <h2>Comparação Detalhada</h2>
            
            <div class="comparacao-container" *ngIf="carrosSelecionados.length === 2">
                <div class="carro-comparacao">
                    <img [src]="carrosData[carrosSelecionados[0]].imagem" 
                         [alt]="carrosData[carrosSelecionados[0]].nome">
                    <h3>{{ carrosData[carrosSelecionados[0]].nome }}</h3>
                    <div class="spec-item">
                        <span class="spec-label">Ano:</span>
                        <span class="spec-value">{{ carrosData[carrosSelecionados[0]].ano }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Valor:</span>
                        <span class="spec-value">{{ carrosData[carrosSelecionados[0]].valor }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Velocidade Final:</span>
                        <span class="spec-value">{{ carrosData[carrosSelecionados[0]].velocidadeFinal }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">0 a 100 km/h:</span>
                        <span class="spec-value">{{ carrosData[carrosSelecionados[0]].aceleracao }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Cor:</span>
                        <span class="spec-value">{{ carrosData[carrosSelecionados[0]].cor }}</span>
                    </div>
                </div>
                
                <div class="vs-divider">
                    <span>VS</span>
                </div>
                
                <div class="carro-comparacao">
                    <img [src]="carrosData[carrosSelecionados[1]].imagem" 
                         [alt]="carrosData[carrosSelecionados[1]].nome">
                    <h3>{{ carrosData[carrosSelecionados[1]].nome }}</h3>
                    <div class="spec-item">
                        <span class="spec-label">Ano:</span>
                        <span class="spec-value">{{ carrosData[carrosSelecionados[1]].ano }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Valor:</span>
                        <span class="spec-value">{{ carrosData[carrosSelecionados[1]].valor }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Velocidade Final:</span>
                        <span class="spec-value">{{ carrosData[carrosSelecionados[1]].velocidadeFinal }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">0 a 100 km/h:</span>
                        <span class="spec-value">{{ carrosData[carrosSelecionados[1]].aceleracao }}</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Cor:</span>
                        <span class="spec-value">{{ carrosData[carrosSelecionados[1]].cor }}</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal de Alerta -->
    <div class="modal-alert" 
         [style.display]="alertaAberto ? 'flex' : 'none'"
         (click)="fecharAlerta($event)">
        <div class="modal-alert-content" (click)="$event.stopPropagation()">
            <div class="alert-icon">
                <svg width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="#ff6b6b" stroke-width="2">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"></path>
                    <line x1="12" y1="9" x2="12" y2="13"></line>
                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
            </div>
            <h3>Atenção</h3>
            <p>{{ mensagemAlerta }}</p>
            <button class="alert-btn" (click)="fecharAlerta()">Entendido</button>
        </div>
    </div>
</main>